{"version":3,"file":"static/webpack/static/development/pages/booking.js.d7d1b6639360ca1e44ed.hot-update.js","sources":["webpack:///./components/Submit.js"],"sourcesContent":["import { ApolloConsumer } from 'react-apollo'\nimport gql from 'graphql-tag'\nimport { allReservations } from './ReservationList'\nimport {FormControl, FormGroup, ControlLabel, Button} from 'react-bootstrap';\nimport Link from 'next/link'\n\nexport default function Submit () {\n  return (\n    <ApolloConsumer>\n      {client => (\n        <div className=\"container\">\n        <div className=\"row\">\n        <div className=\"panel panel-login\">\n          <div>\n            <form onSubmit={event => handleSubmit(event, client)}>\n              <h1 className=\"panel-heading\">\n              <Link href=\"/\">Available Hotel</Link> Create Reservation <Link href=\"/reservation\">Your Reservation</Link>\n              </h1>\n              <FormGroup controlId=\"formControlsText\">\n                <label>Name</label>\n                <input type=\"text\" name=\"name\" placeholder=\"Enter name\" required />\n              </FormGroup>\n              <FormGroup controlId=\"formControlsText\">\n                <label>Name</label>\n                <ControlLabel>Hotel name</ControlLabel>\n                <input type=\"text\" name=\"hotelName\" placeholder=\"Enter Hotel name\" required />\n              </FormGroup>\n              <FormGroup controlId=\"formControlsText\">\n                <ControlLabel>Arrival Date</ControlLabel>\n                <input type=\"date\" name=\"arrivalDate\" placeholder=\"Enter Arrival date\" required />\n              </FormGroup>\n              <FormGroup controlId=\"formControlsText\">\n                <ControlLabel>Departure Date</ControlLabel>\n                <FormControl type=\"date\" name=\"departureDate\" placeholder=\"Enter Departure date\" required />\n              </FormGroup>\n\n              <Button type=\"submit\">\n                Submit\n              </Button>\n            </form>\n          </div>\n        </div>\n        </div>\n        <style jsx>{`\n            h1 {\n              font-size: 20px;\n            }\n            input {\n              display: block;\n              margin-bottom: 10px;\n            }\n            .panel-login {\n              border-color: grey;\n              width: 100%;\n              -webkit-box-shadow: 0px 2px 3px 0px rgba(0,0,0,0.2);\n              -moz-box-shadow: 0px 2px 3px 0px rgba(0,0,0,0.2);\n              box-shadow: 0px 2px 3px 0px rgba(0,0,0,0.2);\n              padding: 15px;\n            }\n            .panel-heading {\n              color: #00415d;\n              background-color: #fff;\n              border-color: #fff;\n              text-align:center;\n            }\n            input[type=text], select {\n              width: 100%;\n              padding: 12px 20px;\n              margin: 8px 0;\n              display: inline-block;\n              border: 1px solid #ccc;\n              border-radius: 4px;\n              box-sizing: border-box;\n          }\n          input[type=submit] {\n              width: 100%;\n              background-color: #4CAF50;\n              color: white;\n              padding: 14px 20px;\n              margin: 8px 0;\n              border: none;\n              border-radius: 4px;\n              cursor: pointer;\n          }\n          \n          input[type=submit]:hover {\n              background-color: #45a049;\n          }\n          \n          div {\n              border-radius: 5px;\n              background-color: #f2f2f2;\n              padding: 20px;\n          }\n          `}</style>\n          <br/>\n        </div>\n      )}\n    </ApolloConsumer>\n  )\n}\n\nfunction handleSubmit (event, client) {\n  event.preventDefault()\n  const form = event.target\n  const formData = new window.FormData(form)\n\n  const ReservationInput = {\n    \"input\": {\n      \"arrivalDate\": formData.get('arrivalDate'),\n      \"departureDate\": formData.get('departureDate'),\n      \"hotelName\": formData.get('hotelName'),\n      \"name\": formData.get('name')\n    }\n  }\n\n  form.reset()\n\n  client.mutate({\n    mutation: gql`\n      mutation createReservation($input: ReservationInput){\n        createReservation(input: $input) {\n          hotelName\n          arrivalDate\n          name\n          departureDate\n          _id\n        }\n      }\n    `,\n    variables: ReservationInput,\n    update: (proxy, { data: { createReservation } }) => {\n      let data = proxy.readQuery({\n        query: allReservations,\n      })\n      let reservations = data.reservations\n\n      proxy.writeQuery({\n        query: allReservations,\n        data: {\n          ...reservations,\n          reservations: [ createReservation, ...data.reservations]\n        }\n      })\n    }\n  })\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA1BA;AAAA;AAAA;AAAA;AAqFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAtFA;AA2FA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AASA;AAEA;AACA;AAWA;AACA;AAAA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AAEA;AAFA;AAFA;AAOA;AA1BA;AA4BA;;;;A","sourceRoot":""}